<app-navbar></app-navbar>

<div class="home">
  <mat-card class="my-performance-card">
    <ngx-charts-line-chart
      (window:resize)="onResize($event)"
      [view]="view"
      [legend]="legend"
      [showXAxisLabel]="showXAxisLabel"
      [showYAxisLabel]="showYAxisLabel"
      [xAxis]="xAxis"
      [yAxis]="yAxis"
      [xAxisLabel]="xAxisLabel"
      [yAxisLabel]="yAxisLabel"
      [timeline]="timeline"
      [results]="data"
      [scheme]="colorScheme"
    >
    </ngx-charts-line-chart>
  </mat-card>

  <mat-card class="account-overview-card">
    <h2 class="title">Account Overview</h2>
    <mat-grid-list cols="2" rowHeight="2:1">
      <mat-grid-tile class="current-value">
        <div class="display-user-values">
          Investing:
          <h1 class="positive">${{ currUser.currValue | number: '1.2-2' }}</h1>
        </div>
      </mat-grid-tile>

      <mat-grid-tile class="daily-change">
        <div class="display-user-values">
          Last refresh:
          <div class="flex-center">
            <h1 class="positive" *ngIf="currChange > 1">{{ currChange - 1.0 | percent }}</h1>
            <h1 class="negative" *ngIf="currChange < 1">{{ 1.0 - currChange | percent }}</h1>
            <h1 *ngIf="currChange === 1">0%</h1>
            <mat-icon class="positive" *ngIf="currChange > 1">arrow_drop_up</mat-icon>
            <mat-icon class="negative" *ngIf="currChange < 1">arrow_drop_down</mat-icon>
          </div>
        </div></mat-grid-tile
      >
    </mat-grid-list>
    <div
      style="display: flex; align-items: center; text-align: center; justify-content: center; flex-direction: column"
    >
      Buying Power:&nbsp;
      <h2 class="buying-power">${{ currUser.buyingPower }}</h2>
      <button mat-stroked-button (click)="grabHistoricalValue()">Refresh</button>
    </div>
    <!-- <div
      style="display: flex; align-items: center; text-align: center; justify-content: center; flex-direction: column"
    >
      <div *ngFor="let stock of stocks; index as i">
        <h2>{{ i }}:{{ stock.symbol }}</h2>
      </div>
    </div> -->
  </mat-card>
</div>
